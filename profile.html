<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Mon Profil</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #18181b; --surface: #2a2a2d; --sidebar: #2c2f33; --accent: #00f5c3; --text: #f0f0f0; --dim: #b9bbbe; --border: #36363a; }
        body { background: var(--bg); color: var(--text); font-family: 'Inter'; display: flex; height: 100vh; margin: 0; }
        .sidebar { width: 250px; background: var(--sidebar); border-right: 1px solid var(--border); padding: 1rem 0; display: flex; flex-direction: column; }
        .nav-link { padding: 1rem; color: var(--dim); text-decoration: none; display: block; }
        .nav-link.active { color: white; border-left: 3px solid var(--accent); background: var(--surface); }
        main { flex: 1; padding: 2rem; }
    </style>
</head>
<body>
    <nav class="sidebar">
        <div style="padding: 1rem; font-weight: bold; color: var(--accent);">FEL-X</div>
        <a href="/profile.html" class="nav-link active">Mon Profil</a>
        <a href="/felix.html" class="nav-link">Félix et moi</a>
        <a href="/leaderboard.html" class="nav-link">Classement</a>
        <a href="/stats.html" class="nav-link">Stats</a>
        <a href="#" id="logout-btn" class="nav-link" style="color: #ff6b6b; margin-top: auto;">Déco</a>
    </nav>
    <main>
        <h1>Mon Profil</h1>
        <div id="content">Chargement...</div>
    </main>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const token = checkAuth();
            if(!token) return;

            // Logique d'affichage simple pour tester
            try {
                const r = await fetch('https://api.twitch.tv/helix/users', {
                    headers: { 'Authorization': `Bearer ${token}`, 'Client-Id': 'kgyfzs0k3wk8enx7p3pd6299ro4izv' }
                });
                const d = await r.json();
                document.getElementById('content').innerHTML = `Bienvenue <b>${d.data[0].display_name}</b> !`;
            } catch(e) { console.error(e); }
        });
    </script>
</body>
</html>